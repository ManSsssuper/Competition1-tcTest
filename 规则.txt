                     ratio  train_all  train_1  test_people
mode                                                       
8b259df485199a2b  1.000000         61       61           13
2e7e5808ff6323e8  0.988235         85       84           26
2ab549beba0a4482  0.000000         12        0           14
290ead084a839c02  0.000000         23        0           26
e88d8e8ad8a93013  0.000000         22        0           30
f1e83bce32405f92  0.000000         43        0           43
30293957fcf5681c  0.000000         17        0           20
ab37f730c615850f  0.000000         33        0           71
be215a1560dcbf6e  0.000000         11        0          590
f4b0872cd482e33f  0.000000         20        0           53
da11300b15a56456  0.000000         15        0           20

         ratio  train_all  train_1  test_people
version                                        
6.1.0      1.0         84       84           29
4.1.7      1.0        268      268          319
6.0.4      0.0         18        0          119
5.8.21     0.0         43        0           99
6.6.0      0.0         11        0            8

                     ratio  train_all  train_1  test_people
device1                                                    
ebb239e4a4371de4  1.000000         13       13           70
da0f9dac7876c295  1.000000         31       31            7
0ab609b6f46c9c23  1.000000         18       18            2
08b960e793d4d965  1.000000         11       11            9
8399be6b80847240  0.979827        347      340          401
476fb7ef04030b94  0.000000         43        0           42
4dde7305e7ada7cc  0.000000         28        0           30
4c16461cac796107  0.000000         11        0            7
509443b9475734c6  0.000000         13        0           16
6a2c6537345f1ed6  0.000000         44        0           18
761cf41002a0b089  0.000000         20        0            8
1443027028358f20  0.000000         17        0           30
144e56ea35756297  0.000000         17        0           21
05d953c9f78446e3  0.000000         16        0           15
10a81b40eb299c0e  0.000000         10        0            6
3032cc3385d5b464  0.000000         16        0           16
c4b7ac79163515c0  0.000000         15        0           15
ceefa845d94f4b04  0.000000         10        0            9
cc918511857d8b53  0.000000         19        0           25
9c92a181f00c595c  0.000000         33        0           20
8352e6e18b661089  0.000000         24        0           21
89fe775da15d709d  0.000000         10        0            5
9fbef3b7dafe24ce  0.000000         15        0            6
a79819186b5427ec  0.000000         14        0            5

Out[19]: 
                ratio  train_all  train_1  test_people
device2_new                                           
COL-AL10     0.000000         54        0           83
ANE-AL00     0.000000         42        0           67
BLN-AL20     0.000000         43        0           53
OS105        0.000000         17        0           34
CLT-AL00     0.000000         22        0           34
PACT00       0.000000         17        0           32
1605-A01     0.000000         27        0           32
1801-A01     0.000000         13        0           27
BKL-AL00     0.000000         11        0           26
FLA-AL20     0.000000         14        0           25
OD105        0.000000         14        0           24
ATU-AL10     0.000000         23        0           23
TCL          0.000000         14        0           22
SM-C5000     0.000000         22        0           21
GN5005       0.000000         28        0           21
HLTE300T     0.000000         11        0           20
S9           0.000000         16        0           19
1607-A01     0.000000         12        0           19
PLK-CL00     0.000000         12        0           19
KOOBEE       0.000000         25        0           19
SM-G9200     0.000000         23        0           19
NCE-AL00     0.000000         24        0           17
LEPHONE      0.000000         13        0           16
NX563J       0.000000         14        0           15
SM-G5510     0.000000         17        0           15
MEIZU        0.000000         20        0           15
M5S          0.000000         24        0           13
BLN-TL10     0.000000         27        0           13
GN5003       0.000000         18        0           12
GN3003       0.000000         20        0           12
SM-J7109     0.000000         14        0           12
M711C        0.000000         10        0           11
NX531J       0.000000         32        0           11
LND-AL40     0.000000         30        0           10
1713-A01     0.000000         14        0           10
SM-A7009     0.000000         14        0           10
TRT-TL10A    0.000000         10        0            9
PRA-TL10     0.000000         16        0            8
A31          0.000000         15        0            7
F5           0.000000         20        0            7
SUGAR        0.000000         14        0            6
GN8001       0.000000         10        0            5
SM-G955F     0.962366        186      179            4
M3X          0.000000         10        0            3
BF_T18       1.000000         32       32            2
R8207        0.000000         10        0            1

                     ratio  train_all  train_1  test_people
device_code1                                               
333712c4ced1c5eb  0.000000         19        0            8
ea7d29fb40610ec3  1.000000         12       12            7
6c078eb5567abe41  0.000000         13        0            5
68cab16ebab00a7f  0.000000         55        0            2
c9564c0bc84a9226  0.956522         23       22            1
a271a6b89bb30657  0.000000         16        0            1

                     ratio  train_all  train_1  test_people
device_code2                                               
3c5b5ba338fd8f12  0.000000         13        0           14
5c608641915a5f76  1.000000         13       13            9
874bb657e133d3be  1.000000         12       12            7
81060427961fcc4a  0.000000         21        0            3
035944a3a203eca4  0.956522         23       22            1
7fa7f6998ec26c3c  0.000000         15        0            1

                  ratio  train_all  train_1  test_people
device_code3                                            
276e33faeaed9066    1.0         13       13           70
52713999e62e60ec    1.0         11       11            9
819a5173912a1236    1.0         17       17            2

                  ratio  train_all  train_1  test_people
mac1                                                    
e1e19ab6cce9ee3e    0.0         24        0           26
635aba1d53ec6ba4    0.0         19        0            8
a57eb5609a4ab978    1.0         12       12            7
eae886a2b4f94b94    0.0         55        0            2
2c1d9e392db14e89    1.0         22       22            1
781972737f3ca3e5    0.0         16        0            1

                     ratio  train_all  train_1  test_people
mac2                                                       
656ccbeb6d97be58  0.982759         58       57           49
468299cd65e117a9  0.000000         43        0           42
2fd0bc0808da52b4  0.000000         19        0            8
1f4370b5f9aae199  1.000000         12       12            7
f21420865f757f8e  0.000000         12        0            5
5c958017593bb77b  0.000000         55        0            2
2c1d9e392db14e89  0.956522         23       22            1
2c489d56b45b1cbd  0.000000         16        0            1
ad7987b1cc4da3a3  0.000000         13        0            1

ip1                                                     
0fe293bea342665a    1.0        207      207          318
97aeb123fafe5672    0.0         17        0           65
18d2378efc1481d1    0.0         28        0           64
9c9d49eddb6a59c3    0.0         31        0           53
47f70286272f2f0d    0.0         31        0           53
4cd4a3df70a9960b    0.0         32        0           51
dfabfc22846b1542    0.0         32        0           49
290bbc90a15aae90    0.0         18        0           47
fcba32f3b0053126    0.0         21        0           29
2198c65c1fdba2d0    0.0         12        0           19
08c0c7aa14d9025e    0.0         17        0           18
0a956e7278a711b0    0.0         19        0           18
911c3151b2565d59    0.0         15        0           17
3dec84d4a0af2cc6    0.0         15        0           13
a4609f8e5fa78cea    0.0         22        0           13

                  ratio  train_all  train_1  test_people
ip2                                                     
ac9440b7bb2471f1    0.0         13        0            2

wifi                                                       
89efed0cc9374acf  0.000000         77        0           60
0b033ffba1bbae0c  0.000000         51        0           32
714cda943c48db74  0.000000         27        0           29
0edb381e0970caf1  0.000000         25        0           26
bedb236bb4bcccba  0.988235         85       84           26
99f063f3f4c9327e  1.000000         13       13           23
fa0bd2725095b8ac  0.000000         14        0           22
aaee3bb45df70b43  0.000000         25        0           20
2ff75c5d515a3733  0.000000         12        0           19
a33bf58feacb6465  0.000000         21        0           19
f4632e129659c3f1  0.000000         55        0           18
14d9c76ab7e945a9  0.000000         14        0           17
ef398e8943c5045f  0.000000         27        0           16
e469b84c886ad480  0.000000         16        0           16
95adb33bbccfea62  0.000000         25        0           16
7e7792cae59ace0d  0.000000         11        0           14
42fb0af6c9501414  0.000000         19        0           13
df9c1abf11b297ef  0.000000         10        0           13
bf7680f959af92b7  0.000000         11        0           13

             ratio  train_all  train_1  test_people
geo_code                                           
ws5j      0.000000         12        0          228
wt47      0.000000         49        0          192
wt3m      0.000000         68        0          169
wx4e      0.000000         56        0          159
wt3q      0.000000         36        0          145
wxf9      0.000000         65        0          127
wx4f      0.000000         30        0          123
wtmk      0.000000         58        0          109
wt5q      0.000000         12        0          103
wxrv      0.000000         55        0          101
ww8p      0.000000         51        0           96
wxuf      0.000000         67        0           91
wxfd      0.000000         35        0           89
wrr2      0.000000         51        0           88
wm7b      0.000000         31        0           84
wx4d      0.000000         35        0           83
wtek      0.000000         36        0           80
wq3v      0.000000         67        0           77
wm6j      0.000000         41        0           76
wm78      0.000000         27        0           76
wzc1      0.000000         31        0           76
wt3j      0.000000         25        0           73
wtte      0.000000         32        0           72
ws7g      0.000000         36        0           72
wsvz      0.000000         44        0           72
wtw6      0.000000         25        0           70
yb4h      0.000000         27        0           69
wkmf      0.000000         40        0           68
wm6p      0.000000         57        0           67
wskm      0.000000         29        0           65

                  ratio  train_all  train_1  test_people
ip1_sub                                                 
f5009e2c6c13c80c    1.0        207      207          318
5d78ce4d5b586a2d    0.0         24        0          129
a1cdba5f499acd05    0.0         35        0          123 
8112b4dca39731c0    0.0         10        0           87
1304c863087ab71f    0.0         14        0           84
009fa84bcd2fad51    0.0         19        0           83
1deed276b6591423    0.0         50        0           82
5067b4dfcf1ede21    0.0         25        0           81
7d0d2a5cceee2762    0.0         17        0           77
91f5ff6f9e0216db    0.0         19        0           77
fd2dd8b4acf428da    0.0         17        0           74
01f6b524195e0afd    0.0         19        0           72
d9bce586625d952c    0.0         18        0           71
767e1b48f2c66db3    0.0         15        0           68
d4f6dbdc858f31f4    0.0         15        0           68
1ffaefeedc294395    0.0         34        0           67
e58e48fb9215116e    0.0         39        0           67
e115c727e565c537    0.0         20        0           66
7d7b208154badf52    0.0         25        0           63
1e8dba4b7e3e9df5    0.0         31        0           63
c25e766ebc6f6c07    0.0         22        0           63
de93f596135307f3    0.0        102        0           62
64f6ce5bce071325    0.0         89        0           61
248cace00fc9618f    0.0         21        0           60
2b2e66a671e4eb99    0.0         19        0           60
c1363e30b5fb8033    0.0        120        0           60

                  ratio  train_all  train_1  test_people
ip2_sub                                                 
77aa94e2b65e0d4e    0.0         39        0           75
2b2e66a671e4eb99    0.0         10        0           22
f7a922e85e0cf5ac    0.0         13        0           19
54a6f0bd7824da58    0.0         13        0           16
98f9b7cacf975aee    0.0         13        0           15
5e251ecd7ab23a78    0.0         33        0           15
ae6365e1405d2464    0.0         19        0           12
fd896197498e2354    0.0         10        0           12
4b99064b63840dfa    0.0         14        0           12
6604929906b2c537    0.0         16        0           11
64f6ce5bce071325    0.0         10        0           10
e2bfdce9275403e5    1.0         15       15           10
88dd70e1772f9907    0.0         11        0           10
################################################################################

         ratio  train_all  train_1  test_people
channel                                        
118        1.0       1371     1371         1264
119        0.0        246        0          172

           ratio  train_all  train_1  test_people
trans_amt                                        
7847         0.0        517        0          428
4136         0.0         19        0          357
12604        0.0         46        0          128
4405         0.0        440        0          120
2718381      0.0        118        0           94
5242         0.0        143        0           86
11516        0.0         54        0           68
14235        0.0         62        0           65
5672         0.0         28        0           54
1255         0.0         70        0           52
1249         0.0         14        0           51
1279         0.0         33        0           47
711          0.0         43        0           44

                  ratio  train_all  train_1  test_people
amt_src1                                                
fd4d2d1006a95637    1.0       1371     1371         1264
d46a2a9577fb52c3    0.0         16        0          226
b0a5496f0db7f70a    0.0        177        0          154
8c753ae7afb60e61    0.0        154        0          139
9a1fad6202fd1a24    0.0         53        0           10
d4f7a3699ef02458    0.0         22        0            7
3045dd7701f3e263    0.0         74        0            2

                     ratio  train_all  train_1  test_people
merchant                                                   
8b3f74a1391b5427  1.000000        923      923          790
922720f3827ccef8  1.000000        197      197          631
0e90f47392008def  1.000000        828      828          549
5776870b5747e14e  1.000000        981      981          471
1f72814f76a984fa  1.000000        291      291          334
b6fda21b47b7768a  0.000000         33        0          334
6d55ccc689b910ee  1.000000        720      720          322
4bca6018239c6201  1.000000        200      200          310
bc0213f01c5023ac  1.000000         59       59          306
1e70ea89a4cbb3fe  0.000000        304        0          279
c988e79f00cc2dc0  1.000000         38       38          236
2b2e7046145d9517  1.000000        147      147          185
2260d61b622795fb  1.000000        380      380          155
904538d108065957  0.000000         86        0          144
0b5b36b39b5cb657  0.000000        177        0          122
7051de5689e83caa  0.000000        154        0          112

                  ratio  train_all  train_1  test_people
code1                                                   
f1fa4af14fd5b68f    1.0       1340     1340         1001
161e5c8f9250d243    1.0         38       38          236
16e73bcdb490ae4b    1.0         11       11           47
0c59c255397bf3bb    1.0        141      141           36
c7d25bb127079b68    0.0         34        0           22
a16a051964f7d900    0.0         13        0           18
37f5d2a8d19d28ab    1.0         18       18           17
3a32a384b510af73    0.0         30        0           17
87258564cf1a04f9    0.0         13        0            5
322fe5d8202db2f1    1.0         67       67            3

                  ratio  train_all  train_1  test_people
trans_type1                                             
4adc3de71fe1a83c    0.0        177        0          154
85bced5214d33ad2    0.0        160        0          150
eb8d10591677bbe1    0.0        187        0           80
e903cf2a79b83d37    0.0         52        0           55

                     ratio  train_all  train_1  test_people
acc_id1                                                    
2fed00d7f75e4477  0.000000         24        0           20
be0e37a8e95ce753  1.000000         18       18            6
d19f7a690659e16e  0.976744         43       42            1


                  ratio  train_all  train_1  test_people
device_code1                                            
0fa5a104b3ecb0e5    0.0         11        0            9
ea7d29fb40610ec3    1.0         11       11            7
333712c4ced1c5eb    0.0         20        0            5
6c078eb5567abe41    0.0         12        0            3
68cab16ebab00a7f    0.0         49        0            2
c9564c0bc84a9226    1.0         22       22            1
bdd35e27c0a21673    1.0         17       17            1
a271a6b89bb30657    0.0         14        0            1

                  ratio  train_all  train_1  test_people
device_code2                                            
035944a3a203eca4    1.0         22       22            1
81060427961fcc4a    0.0         15        0            1

                     ratio  train_all  train_1  test_people
device_code3                                               
96f16ec42f95c067  1.000000         18       18            6
ccc2302f2c8902e0  1.000000         21       21            1
a3cbae70db471980  0.954545         44       42            1

                  ratio  train_all  train_1  test_people
device1                                                 
476fb7ef04030b94    0.0         49        0           38
1443027028358f20    0.0         17        0           28
4dde7305e7ada7cc    0.0         35        0           26
ad7e0d5d6d080850    0.0         10        0           20
c58a1bca5d74918f    0.0         34        0           18
cc918511857d8b53    0.0         18        0           17
509443b9475734c6    0.0         13        0           16
9c92a181f00c595c    0.0         10        0           15
8352e6e18b661089    0.0         18        0           15
3032cc3385d5b464    0.0         16        0           14
cae7ad368508a4c5    0.0         12        0           13
358efc546129d97d    0.0         10        0           11
f3137052c30c5922    0.0         12        0           11
ceefa845d94f4b04    0.0         12        0            8
9fbef3b7dafe24ce    0.0         17        0            7
a79819186b5427ec    0.0         12        0            5

                    ratio  train_all  train_1  test_people
device2                                                   
MI 3C             0.97193        285      277          333
VIVO X9I          0.00000         96        0          128
COL-AL10          0.00000         60        0           81
MI 6X             0.00000         37        0           66
MI MAX            0.00000         60        0           60
VIVO XPLAY5A      0.00000         45        0           59
M6 NOTE           0.00000         48        0           53
IPHONE 6S         0.00000         14        0           52
BLN-AL20          0.00000         53        0           45
1801-A01          0.00000         19        0           40
CLT-AL00          0.00000         21        0           35
KNT-AL10          0.00000         37        0           33
OPPO R9ST         0.00000         35        0           33
VIVO X21I A       0.00000         35        0           30
PACT00            0.00000         16        0           28
OS105             0.00000         18        0           28
GIONEE S10        0.00000         44        0           27

                ratio  train_all  train_1  test_people
device2_new                                           
COL-AL10     0.000000         60        0           81
M6           0.000000         56        0           58
BLN-AL20     0.000000         53        0           45
1801-A01     0.000000         19        0           40
CLT-AL00     0.000000         21        0           35
KNT-AL10     0.000000         37        0           33
PACT00       0.000000         16        0           28
OS105        0.000000         18        0           28
FLA-AL20     0.000000         14        0           26
BKL-AL00     0.000000         10        0           24
PE-CL00      0.000000         34        0           24
OD105        0.000000         13        0           23
SM-C5000     0.000000         24        0           21
ATU-AL10     0.000000         25        0           21
SM-G9200     0.000000         20        0           20
SM-G955F     0.960452        177      170           19
NX569H       0.000000         10        0           19

                  ratio  train_all  train_1  test_people
mac1                                                    
e1e19ab6cce9ee3e    0.0         44        0           25
a57eb5609a4ab978    1.0         11       11            7
635aba1d53ec6ba4    0.0         20        0            5
eae886a2b4f94b94    0.0         53        0            2
781972737f3ca3e5    0.0         15        0            1

                  ratio  train_all  train_1  test_people
ip1                                                     
e2c6e8c446eec4da    0.0         42        0           41
5a3569ee1edd8109    0.0         47        0           39
18d2378efc1481d1    0.0         16        0           25
666829313283dbc2    0.0         13        0           18
47f70286272f2f0d    0.0         17        0           16
4cd4a3df70a9960b    0.0         10        0           15
9c9d49eddb6a59c3    0.0         17        0           14
1ca60c14d6ae442b    0.0         11        0           14
dfabfc22846b1542    0.0         12        0           14
08c0c7aa14d9025e    0.0         16        0            9
b8252f294a71f39a    0.0         12        0            8
b2983a41dc6b8976    0.0         10        0            3
d1c83c8e9fe25bdb    0.0         17        0            3
29ae7e2a0e2df670    0.0         11        0            3
ac9440b7bb2471f1    0.0         13        0            3
7eeed435bd868d51    0.0         15        0            2
803b3aa7752b3ab5    0.0         15        0            2
8ff6cee992af2a4d    0.0         11        0            2
925e5ad3e28dade5    0.0         12        0            2
d6f9a032d992b001    1.0         19       19            1
e726e604a4371ca3    0.0         28        0            1
db19e5aa8d36f31b    1.0         19       19            1
3435a8a9a5222a31    0.0         18        0            1
06d0301896c98484    0.0         10        0            1
76d889a883204f95    0.0         14        0            1
9ea6d0d397da6576    0.0         11        0            1

                  ratio  train_all  train_1  test_people
amt_src2                                                
6ff95b0f27cad429    0.0        177        0          154
a4c431a553511705    0.0         55        0          108
c82bae1f6ebe5674    0.0         56        0           94
83a5fc4359a7615b    0.0         45        0           59
dab069dbd480cd71    0.0         29        0           35
d8330ac4b2914269    0.0         49        0           34
419321219d8fda58    0.0         23        0           29
97dcb4af128ef1aa    0.0         35        0           27
82f4d0fd9cab9334    0.0         26        0           23
c8892baa65246479    0.0         19        0           21
272354ea34edeeff    0.0         15        0           20
5d796942ba29acc9    0.0         11        0           20
4f5258b3973074f6    0.0         17        0           19
2f60693e4248d7d2    0.0         16        0           17
1a193bb512629fc4    0.0         15        0           14
e6bbde1a9a1bf932    0.0         14        0           12
153284e982638d6e    0.0         17        0           12
2136b4461fb6c224    0.0         19        0           11
b043c42fe279a658    0.0         13        0           10
3da0b889868f3405    0.0         31        0           10
877d454e64e02516    0.0         14        0            8
4b594afc831ed84b    0.0         17        0            7
6e659e2adea4a956    0.0         10        0            6
0547014ab9e148fa    0.0         11        0            2
a3b3a0b25af8bbae    0.0         11        0            1

                     ratio  train_all  train_1  test_people
acc_id2                                                    
565a1898ecb249a6  1.000000         18       18            6
ec7e1ae329adb29f  1.000000         21       21            1
b77a683dea5cf512  0.954545         44       42            1

             ratio  train_all  train_1  test_people
geo_code                                           
ws5j      0.000000         13        0          217
wt47      0.000000         48        0          166
wxf9      0.000000         66        0          111
wm6n      0.000000         92        0          106
wt3m      0.000000         60        0           98
wx4e      0.000000         49        0           89
wt5q      0.000000         10        0           87
wxuf      0.000000         57        0           85
wt3q      0.000000         33        0           84
ww8p      0.000000         46        0           73
wm3v      0.000000         61        0           72
wx4f      0.000000         27        0           71
wxrv      0.000000         57        0           68
wtmk      0.000000         52        0           63
wzc1      0.000000         37        0           59
wrr2      0.000000         56        0           58
wtcv      0.000000         32        0           58
wtg1      0.000000         37        0           58
wm6j      0.000000         36        0           58

                  ratio  train_all  train_1  test_people
market_code                                             
7f66c65f29784d37    0.0        180        0           93
be11cf5b7bd2ffd8    0.0         98        0           80
b2573ccaecb730b8    0.0         89        0           57
0c7e40ec9394c68a    0.0         84        0           49
fc0dc382ba91b2d3    0.0         45        0           27
5b8ca0bf296d4663    0.0         30        0           20
1ac93263aba6cc67    0.0         14        0           20
2fed00d7f75e4477    0.0         24        0           20
2b6760af3a340fd7    0.0         22        0           19
a266783587548927    0.0         21        0           18
709484d6d6efed00    0.0         28        0           15
ccc92b6fedd6252e    0.0         19        0           15
a7f437872f2becde    0.0         18        0           14
de6da1b7da8b9c4b    0.0         16        0           10
0c528039721c7c83    0.0         15        0           10
9716628e414b0311    0.0         17        0            8
b3563f2c0493c586    0.0         24        0            7
c513f9f057546961    0.0         11        0            6
8bd71bd2831cbc9a    0.0         42        0            5

                  ratio  train_all  train_1  test_people
ip1_sub                                                 
a1cdba5f499acd05    0.0         23        0           90
5d78ce4d5b586a2d    0.0         15        0           89
77aa94e2b65e0d4e    0.0         70        0           87
7161ebbdb5712891    0.0         81        0           75
009fa84bcd2fad51    0.0         14        0           70
efdb4d7b418352b5    0.0         30        0           65
b75fa42d659079e1    0.0         10        0           64
327cbc5889d56fb7    0.0         12        0           62
1ddf2a0652971ad8    0.0         21        0           59
7d0d2a5cceee2762    0.0         13        0           59
5067b4dfcf1ede21    0.0         15        0           56
1b20f6ca8a8b34e1    0.0         18        0           55
91f5ff6f9e0216db    0.0         11        0           53
3a8c8fadc6f255ac    0.0         14        0           52
c724d75996a46f79    0.0         19        0           47
d18c9a989c39078d    0.0         20        0           47
531f35771e30e9f5    0.0         26        0           47